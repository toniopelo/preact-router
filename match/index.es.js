import{h as t,Component as r}from"preact";import{subscribers as e,getCurrentUrl as n,exec as o,Link as a}from"preact-router";function i(){return(i=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}var p=function(t){var r,a;function i(){return t.apply(this,arguments)||this}a=t,(r=i).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a;var p=i.prototype;return p.componentDidMount=function(){var t=this;this.update=function(r){t.nextUrl=r,t.setState({})},e.push(this.update)},p.componentWillUnmount=function(){e.splice(e.indexOf(this.update)>>>0,1)},p.render=function(t){var r=this.nextUrl||n(),e=r.replace(/\?.+$/,"");return this.nextUrl=null,t.children({url:r,path:e,matches:!1!==o(e,t.path,{})})},i}(r),c=function(r){var e=r.activeClassName,n=r.path,o=function(t,r){if(null==t)return{};var e,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r.indexOf(e=a[n])>=0||(o[e]=t[e]);return o}(r,["activeClassName","path"]);return t(p,{path:n||o.href},function(r){return t(a,i({},o,{class:[o.class||o.className,r.matches&&e].filter(Boolean).join(" ")}))})};export default p;export{c as Link,p as Match};
