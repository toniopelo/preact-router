var t=require("preact"),r=require("preact-router");function e(){return(e=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}var n=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=o.prototype;return a.componentDidMount=function(){var t=this;this.update=function(r){t.nextUrl=r,t.setState({})},r.subscribers.push(this.update)},a.componentWillUnmount=function(){r.subscribers.splice(r.subscribers.indexOf(this.update)>>>0,1)},a.render=function(t){var e=this.nextUrl||r.getCurrentUrl(),n=e.replace(/\?.+$/,"");return this.nextUrl=null,t.children({url:e,path:n,matches:!1!==r.exec(n,t.path,{})})},o}(t.Component);n.Link=function(o){var a=o.activeClassName,i=o.path,s=function(t,r){if(null==t)return{};var e,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r.indexOf(e=a[n])>=0||(o[e]=t[e]);return o}(o,["activeClassName","path"]);return t.h(n,{path:i||s.href},function(n){return t.h(r.Link,e({},s,{class:[s.class||s.className,n.matches&&a].filter(Boolean).join(" ")}))})},module.exports=n;
